ifeq ($(USE_SUNDIALS_PP),TRUE) 
  $(info ***Loading Make.ThirdParty) 
  DEFINES  += -DUSE_SUNDIALS_PP
  CVODE_LIB_DIR     ?= $(PELE_PHYSICS_HOME)/ThirdParty/sundials/instdir/lib
  $(info CVODE_LIB_DIR="$(CVODE_LIB_DIR)")
  INCLUDE_LOCATIONS += $(CVODE_LIB_DIR)/../include
  ifeq ($(USE_ARKODE_PP),TRUE)
      LIBRARIES += -L$(CVODE_LIB_DIR) -lsundials_arkode
  else
      LIBRARIES += -L$(CVODE_LIB_DIR) -lsundials_cvode
  endif
  LIBRARIES += -L$(CVODE_LIB_DIR) -lsundials_nvecserial
  ifeq ($(USE_OMP),TRUE)
    LIBRARIES += -L$(CVODE_LIB_DIR) -lsundials_nvecopenmp
  endif
  ifeq ($(USE_CUDA_CVODE),TRUE)
    DEFINES  += -DUSE_CUDA_CVODE
    LIBRARIES += -L$(CVODE_LIB_DIR) -lsundials_nveccuda -lsundials_sunlinsolcusolversp
    LIBRARIES += -lcusolver -lcusparse
  endif
  ifneq ($(shell uname),Darwin)
    LIBRARIES += -Wl,-rpath=${CVODE_LIB_DIR}
  endif
  ifeq ($(USE_KLU_PP), TRUE)
    SUITESPARSE_DIR   ?= $(PELE_PHYSICS_HOME)/ThirdParty/SuiteSparse
    DEFINES   += -DUSE_KLU_PP
    LIBRARIES += -L$(CVODE_LIB_DIR) -lsundials_sunmatrixsparse
    LIBRARIES += -L$(CVODE_LIB_DIR) -lsundials_sunlinsolklu
    LIBRARIES += -L$(SUITESPARSE_DIR)/lib -lklu
    LIBRARIES += -L$(SUITESPARSE_DIR)/lib -lamd
    LIBRARIES += -L$(SUITESPARSE_DIR)/lib -lcolamd
    LIBRARIES += -L$(SUITESPARSE_DIR)/lib -lbtf
    LIBRARIES += -L$(SUITESPARSE_DIR)/lib -lsuitesparseconfig
    INCLUDE_LOCATIONS+=${SUITESPARSE_DIR}/include
    ifneq ($(shell uname),Darwin)
      LIBRARIES += -Wl,-rpath=${SUITESPARSE_DIR}/lib
    endif
  endif
endif
